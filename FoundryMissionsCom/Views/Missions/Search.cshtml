@model IEnumerable<FoundryMissionsCom.Models.FoundryMissionViewModels.ListMissionViewModel>

@{
    ViewBag.Title = "Search Results";
}

@section opengraph{

    <meta property="og:title" content="Search Results" />
}

<h2>Search Results</h2>
    <div class="row search-results-header">
        <div class="col-md-2 col-sm-12">
            @Html.DisplayNameFor(model => model.Name)
        </div>
        <div class="col-md-2 col-sm-12">
            @Html.DisplayNameFor(model => model.CrypticId)
        </div>
        <div class="col-md-2 col-sm-12">
            @Html.DisplayNameFor(model => model.Author.CrypticTag)
        </div>
        <div class="col-md-2 col-sm-12">
            @Html.DisplayNameFor(model => model.MinimumLevel)
        </div>
        <div class="col-md-2 col-sm-12">
            @Html.DisplayNameFor(model => model.Faction)
        </div>
        <div class="col-md-1 col-sm-12">
            @Html.DisplayNameFor(model => model.DateLastUpdated)
        </div>
        <div class="col-md-1 col-sm-12">
        </div>
    </div>
@foreach (var item in Model)
{
<div class="row search-result">
    <div class="col-md-2 col-sm-12">
        @Html.ActionLink(item.Name, "details", new { link = item.MissionLink })
    </div>
    <div class="col-md-2 col-sm-12">
        @Html.DisplayFor(modelItem => item.CrypticId)
    </div>
    <div class="col-md-2 col-sm-12">
        @Html.DisplayFor(modelItem => item.Author.CrypticTag)
    </div>
    <div class="col-md-2 col-sm-12">
        <img src="@Url.Content("~/Content/Images/" + item.LevelImageUrl)"/>@Html.DisplayFor(modelItem => item.MinimumLevel)+
    </div>
    <div class="col-md-2 col-sm-12">
        @Html.DisplayFor(modelItem => item.Faction)
    </div>
    <div class="col-md-1 col-sm-12">
        @Html.DisplayFor(modelItem => item.DateLastUpdated)
    </div>
    <div class="col-md-1 col-sm-12">
        @if (User.IsInRole("Admin") || (item.Author.UserName.Equals(User.Identity.Name)))
        {
            @Html.ActionLink("Edit", "edit", new { id = item.Id });
        }
    </div>

</div>

}
